{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/baseForMain.css' %}">
    {% block head %}{% endblock %}
</head>
<body>
    <nav class="navMenu">
        <div><a href='{% url "index" %}'>Blaze (로고)</a></div> 

        {% if user.is_authenticated %}
            {{ user.nickname }}님, 반갑습니다!<br>
            <a href="{% url 'mypageapp:mypage' %}">mypage 이동</a>
        {% else %}
            로그인 하시려면 <a href="{% url 'index' %}">이곳</a>을 클릭하세요
        {% endif %}
        
        <form method="POST" class="search-form" action="{% url 'search' %}">
            {%csrf_token%}
            <input type="search" placeholder="Title or Content" aria-label="Search" name="post" value="{{post}}" id="search-input">
            <button type="submit">Search</button>
        </form>

        <div class="create_write_btn">
            <a href="{%url 'create' %}">
                <img src="{% static 'i' %}">
            </a>
        </div>

        <div class="alarm">
            <a href="">
                <div class="alarm_btn">
                    <icon/>
                </div>
            </a>
        </div>
    </nav>

    <div class="category">
    </div>

    <div class="contents">
        <div class="create_write2">
            <div class="create_btn2">
                Create new post!
            </div>
        </div>
    </div>

    {% block contents %}
    {% endblock %}

    <script>
        // get flag emoji
        const getFlagEmoji = (countryCode) => countryCode.toUpperCase().replace(/./g,
            char => String.fromCodePoint(127397 + char.charCodeAt())
        );
        const flagReplace = document.querySelectorAll('[data-flag]');
        flagReplace.forEach(s => s.innerHTML = getFlagEmoji(s.dataset.flag))
        console.log(getFlagEmoji('US'))
        // handle search input length
        const searchForm = document.querySelector('.search-form')
        const searchInput = document.querySelector('#search-input');
        const handleInputValue = (e)=>{
           
            console.log(searchInput.value)
            const value = searchInput.value.length ;
            if(value === 0 || value <3){
                e.preventDefault();
                alert("Please insert more than 3 characters!")
            }
        }
        searchForm.addEventListener("submit",handleInputValue)
        
    </script>


    {% block script %}
    {% endblock %}



</body>
</html>